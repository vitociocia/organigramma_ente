{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}

{% block container %}
<div class="container my-5">
  <div class="d-flex flex-wrap justify-content-between align-items-end">
    <div>
      <h1 class="mb-2">Ciao, {{ request.user.first_name|default:request.user.username }}</h1>
      <p class="text-muted mb-0">Benvenuto nella dashboard di gestione dellâ€™organigramma.</p>
    </div>
    <div class="text-end mt-3 mt-md-0">
      <a class="btn btn-outline-primary" href="{% url 'visualizza_organigramma' %}">
        Visualizza organigramma
      </a>
    </div>
  </div>

  <div class="row g-3 mt-1">
    <div class="col-md-4">
      <a class="text-decoration-none" href="{% url 'struttura_list' %}">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title mb-2">Strutture</h5>
            <p class="card-text text-muted mb-0">Elenco, ricerca e gestione delle strutture.</p>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-4">
      <a class="text-decoration-none" href="{% url 'responsabile_list' %}">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title mb-2">Responsabili</h5>
            <p class="card-text text-muted mb-0">Anagrafica responsabili e qualifiche associate.</p>
          </div>
        </div>
      </a>
    </div>

    <div class="col-md-4">
      <a class="text-decoration-none" href="{% url 'qualifica_list' %}">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title mb-2">Qualifiche</h5>
            <p class="card-text text-muted mb-0">Gestione titoli e attributi delle qualifiche.</p>
          </div>
        </div>
      </a>
    </div>

    {% if perms.organigramma.view_simulatore %}
    <div class="col-md-4">
      <a class="text-decoration-none" href="{% url 'simula_organigramma' %}">
        <div class="card h-100 shadow-sm border-primary">
          <div class="card-body">
            <h5 class="card-title mb-2">Simulatore</h5>
            <p class="card-text text-muted mb-0">Area avanzata per prove e simulazioni.</p>
          </div>
        </div>
      </a>
    </div>
    {% endif %}

    {% if perms.auth.view_user %}
    <div class="col-md-4">
      <a class="text-decoration-none" href="{% url 'user_list' %}">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title mb-2">Utenti</h5>
            <p class="card-text text-muted mb-0">Crea, modifica e assegna ruoli agli utenti.</p>
          </div>
        </div>
      </a>
    </div>
    {% endif %}
  </div>

  <div class="alert alert-info mt-4 mb-0" role="alert">
    Hai dimenticato la password? Scrivi a
    <a class="alert-link" href="mailto:v.ciocia@comune.bari.it">v.ciocia@comune.bari.it</a>.
  </div>
</div>
{% endblock %}
